# 引き継ぎ文書 - 現場Pro 設備くん

## プロジェクト概要

**アプリ名**: 現場Pro 設備くん
**フォーク元**: CULOchanKAIKEIpro（リフォーム見積・会計 Pro）
**開発者**: アキヤさん + Claude
**プロジェクト**: COCOMI CORE / COCOMIOS Project

---

## ビジョン・目標

### コンセプト
現場監督向けオールインワン施工管理アプリ。
CULOchanKAIKEIproの見積・請求・レシート機能をベースに、
現場管理・工程管理・職人管理・写真AI・Bluetooth距離計連携を追加する。

### ターゲット
- 設備工事の現場監督
- 個人事業主の設備屋さん
- 小規模建設会社の現場担当者

### 差別化ポイント
1. **見積から施工管理まで一気通貫** - 別々のアプリを使わなくていい
2. **現場特化のUI** - 大きなボタン、手袋でも操作しやすい
3. **写真AI** - 施工写真の自動分類・報告書生成
4. **Bluetooth距離計連携** - 実測値をそのまま見積に反映
5. **音声入力** - CULOchanKAIKEIproから継承

---

## 既存機能（CULOchanKAIKEIproから継承・絶対削除禁止）

### 見積書・請求書
- 品名マスターから階層選択
- 175件のプリセット商品（塩ビ管、継手、電材など）
- PDF出力、3種類のテンプレート
- 会社ロゴ・デジタル印鑑対応

### レシート読込
- カメラ撮影 / ギャラリー選択
- Gemini AI でOCR読取
- 音声入力で修正
- 勘定科目の自動判定

### 確定申告サポート
- 青色申告 / 白色申告
- 年間収支サマリー
- 収入帳・経費帳の出力

### その他
- 顧客管理
- パスワードロック
- PWA対応（オフライン動作可能）

---

## 新規開発ロードマップ

### Phase 1: 基盤構築（現在）
| 機能 | 説明 |
|:--|:--|
| ブランディング差し替え | アプリ名を「現場Pro 設備くん」に変更 |
| 現場ダッシュボード | ホーム画面を現場管理向けに刷新 |
| 現場登録・一覧 | 現場名・住所・期間・ステータス管理 |
| 工程表 | ガントチャート風の工程管理画面 |
| IndexedDB拡張 | 現場テーブル・工程テーブル追加 |

### Phase 2: 職人管理・写真AI
| 機能 | 説明 |
|:--|:--|
| 職人マスター | 名前・職種・連絡先・単価管理 |
| 現場×職人アサイン | どの現場にどの職人を配置するか |
| 写真台帳 | 施工写真の撮影・分類・タグ付け |
| AI写真分類 | Gemini AIで施工箇所を自動判定 |
| 報告書生成 | 写真付き施工報告書のPDF出力 |

### Phase 3: Bluetooth距離計・実測連携
| 機能 | 説明 |
|:--|:--|
| BLE距離計連携 | Bluetooth距離計からデータ取得 |
| 実測→見積 | 測定値をそのまま見積項目に反映 |
| 間取りメモ | 簡易図面メモ機能 |

### Phase 4: 高度な現場管理
| 機能 | 説明 |
|:--|:--|
| 安全管理 | KY活動記録・安全チェックリスト |
| 材料発注 | 必要材料リストから発注書作成 |
| 原価管理 | 見積vs実績の原価比較 |
| 日報 | 音声入力対応の作業日報 |

---

## 技術情報

### 使用ライブラリ
- **jsPDF** - PDF出力
- **SheetJS (xlsx)** - Excel出力
- **Tesseract.js** - OCR（バックアップ用）
- **Web Speech API** - 音声認識
- **Gemini API** - AI画像読取

### データ保存
- **IndexedDB** - メインストレージ（idb-storage.js）
- **LocalStorage** - 設定・互換用
- バックアップ・復元機能あり

---

## 作業ルール

1. **既存の見積・請求・レシート機能は絶対に削除しない**
2. UIは大きなボタンで直感的に（手袋でも操作可能を意識）
3. 1つずつ確認しながら進める
4. 音声入力は全機能で対応を目指す

---

*作成日: 2026年2月7日*
*フォーク元: CULOchanKAIKEIpro*
