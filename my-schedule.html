<!-- v0.53 - Phase5-3 マイスケジュール画面 -->
<div id="my-schedule-screen" class="screen">
  <div class="header" style="background: linear-gradient(135deg, #7c3aed, #5b21b6);">
    <button class="back-btn" onclick="showScreen('schedule')">←</button>
    <h1>📅 マイスケジュール</h1>
    <button class="header-btn" onclick="openMyScheduleForm()">＋</button>
  </div>

  <!-- 担当現場リスト -->
  <div style="padding:12px 16px 0;">
    <div style="font-size:13px; font-weight:bold; color:#6b7280; margin-bottom:8px;">担当現場</div>
    <div id="my-schedule-genba-list" style="display:flex; flex-wrap:wrap; gap:6px; margin-bottom:12px;">
      <div style="color:#9ca3af; font-size:13px;">読み込み中...</div>
    </div>
  </div>

  <!-- 月ナビゲーション -->
  <div style="display:flex; align-items:center; justify-content:center; gap:16px; padding:8px 16px;">
    <button onclick="prevMyMonth()" style="width:40px; height:40px; border:none; border-radius:50%; background:#f3f4f6; font-size:18px; cursor:pointer; font-weight:bold;">◀</button>
    <div id="my-schedule-month-label" style="font-size:18px; font-weight:bold; color:#1f2937; min-width:140px; text-align:center;"></div>
    <button onclick="nextMyMonth()" style="width:40px; height:40px; border:none; border-radius:50%; background:#f3f4f6; font-size:18px; cursor:pointer; font-weight:bold;">▶</button>
    <button onclick="goMyToday()" style="padding:6px 12px; border:1px solid #7c3aed; border-radius:20px; background:white; font-size:12px; font-weight:bold; color:#7c3aed; cursor:pointer;">今日</button>
  </div>

  <!-- カレンダー -->
  <div id="my-schedule-calendar" style="padding:0 8px;">
    <div style="text-align:center; padding:40px; color:#9ca3af;">読み込み中...</div>
  </div>

  <!-- 凡例 -->
  <div id="my-schedule-legend" class="gantt-legend" style="margin:8px; display:none;"></div>

  <!-- 日詳細 -->
  <div id="my-schedule-day-detail" style="padding:8px 16px 100px; display:none;"></div>

  <!-- 予定追加モーダル -->
  <div id="my-schedule-modal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); z-index:200; overflow-y:auto;">
    <div style="background:white; margin:20px auto; max-width:500px; border-radius:16px; overflow:hidden;">
      <div style="background:linear-gradient(135deg, #7c3aed, #5b21b6); color:white; padding:16px; display:flex; justify-content:space-between; align-items:center;">
        <h2 style="font-size:18px; margin:0;">個人予定を追加</h2>
        <button onclick="closeMyScheduleModal()" style="background:rgba(255,255,255,0.2); border:none; color:white; width:36px; height:36px; border-radius:50%; font-size:18px; cursor:pointer;">✕</button>
      </div>
      <div style="padding:20px;">
        <label style="display:block; font-weight:bold; margin-bottom:6px; font-size:14px; color:#374151;">日付 *</label>
        <input type="date" id="my-schedule-date" style="width:100%; padding:14px; font-size:16px; border:2px solid #e5e7eb; border-radius:10px; margin-bottom:12px;">

        <label style="display:block; font-weight:bold; margin-bottom:6px; font-size:14px; color:#374151;">終了日</label>
        <input type="date" id="my-schedule-end-date" style="width:100%; padding:14px; font-size:16px; border:2px solid #e5e7eb; border-radius:10px; margin-bottom:16px;">

        <label style="display:block; font-weight:bold; margin-bottom:6px; font-size:14px; color:#374151;">メモ *</label>
        <textarea id="my-schedule-memo" placeholder="予定の内容" rows="3" style="width:100%; padding:14px; font-size:16px; border:2px solid #e5e7eb; border-radius:10px; margin-bottom:20px; resize:vertical;"></textarea>

        <button onclick="saveMyScheduleForm()" style="width:100%; padding:16px; font-size:18px; font-weight:bold; background:linear-gradient(135deg, #7c3aed, #5b21b6); color:white; border:none; border-radius:12px; cursor:pointer;">
          保存する
        </button>
      </div>
    </div>
  </div>
</div>
